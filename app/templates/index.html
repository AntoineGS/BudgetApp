{% extends "base.html" %}
{% import 'bootstrap/form.html' as form %}

{% block app_content %}
    <h1>{{ 'Hi, Antoine!'}}</h1>
    {% if _form %}
    {{ form.render_form(_form) }}
    <br>
    {% endif %}
     <button id="refreshDataBtn" type="button" class="btn btn-default" data-finished-text="Loading Finished"
             data-failedinished-text="Loading Finished">Refresh Bank Data</button>
    <nav aria-label="...">
{#        <ul class="pager">#}
{#            <li class="previous{% if not prev_url %} disabled{% endif %}">#}
{#                <a href="{{ prev_url or '#' }}">#}
{#                    <span aria-hidden="true">&larr;</span> Newer posts#}
{#                </a>#}
{#            </li>#}
{#            <li class="next{% if not next_url %} disabled{% endif %}">#}
{#                <a href="{{ next_url or '#' }}">#}
{#                    Older posts <span aria-hidden="true">&rarr;</span>#}
{#                </a>#}
{#            </li>#}
{#        </ul>#}
    </nav>
{% endblock %}


{% block scripts %}
    <script>
        $('#refreshDataBtn').on('click', function(event){
            $(this).button('loading');

            $.post('/refresh_bank'
            ).done(function(){
                $('#refreshDataBtn').button('finished');
            }).fail(function(){
                $('#refreshDataBtn').button('failed');
            });
        });
    </script>
{% endblock %}
